import{_ as D,r as l,a as M,u as j,w as C,b as n,d as o,e as m,F as P,f as T,t as c,g as U,o as a}from"./index-CbDYQ2ku.js";const V={class:"bg-[#f7f9fb] min-h-screen flex flex-col items-start font-pretendard text-[0.75rem] flex-grow w-full m-0 pl-0 pt-[1.9rem]"},q=["onClick"],B={class:"flex items-center gap-[0.38em] text-[#7a8baa] text-[0.76em] mb-[0.75em] font-pretendard"},F={class:"text-[#4f8cff] font-semibold text-[1.15em]"},N={class:"text-[#a6b0bc] text-[1.15em]"},A={class:"text-[#232a33] text-[1rem] font-bold mb-[0.3em] mt-0 tracking-[-0.02em] leading-[1.4] md:text-[0.77rem]"},E={key:0,class:"w-full aspect-[16/9] mb-[0.83em] rounded-[0.66rem] overflow-hidden bg-black flex items-center justify-center"},H=["src"],L={key:1,class:"w-full aspect-[16/9] mb-[0.83em] rounded-[0.66rem] overflow-hidden flex items-center justify-center"},R=["src","alt"],Y={class:"text-[0.81rem] text-[#354052] mb-[0.83em] leading-[1.8] break-keep md:text-[0.73rem]"},z={class:"flex gap-[0.53em] mt-[0.11em] justify-start mb-1"},G={class:"bg-[#f4f8fd] text-[#4f8cff] border-[0.07rem] border-[#e7ecf3] rounded-[0.28rem] py-[0.33em] px-[0.94em] text-[0.75rem] font-pretendard cursor-pointer transition-all duration-150 hover:bg-[#4f8cff] hover:text-white hover:border-[#4f8cff]"},J={class:"bg-[#f4f8fd] text-[#4f8cff] border-[0.07rem] border-[#e7ecf3] rounded-[0.28rem] py-[0.33em] px-[0.94em] text-[0.75rem] font-pretendard cursor-pointer transition-all duration-150 hover:bg-[#4f8cff] hover:text-white hover:border-[#4f8cff]"},K={key:0,class:"text-center mt-[20px] text-[1rem] text-[#555]"},O={key:1,class:"text-center mt-[20px] text-[1rem] text-[#d9534f]"},Q={key:2,class:"text-center mt-[20px] text-[1rem] text-[#555]"},S={__name:"PostView",emits:["open-detail"],setup(W,{emit:_}){const x=j(),f=l([]),u=l(!1),d=l(null),h=l("");l(!1),l(null),l(null);const p=_,g=r=>{p("open-detail",r)},y=r=>{if(!r)return"";const t=new Date(r),s=Math.floor((new Date-t)/(1e3*60));if(s<1)return"방금 전";if(s<60)return`${s}분 전`;const i=Math.floor(s/60);if(i<24)return`${i}시간 전`;const v=Math.floor(i/24);if(v<7)return`${v}일 전`;const w=t.getFullYear(),k=t.getMonth()+1,$=t.getDate();return`${w}년 ${k}월 ${$}일`},b=async r=>{u.value=!0,d.value=null,h.value=r;try{const t=await U.get("/post/loadPosts",{params:{category:r}});f.value=t.data.map(e=>{const s=e.videoUrl?e.videoUrl.split("?")[0]:"",i=s?"https://img.youtube.com/vi/"+s+"/hqdefault.jpg":"";return{id:e.postId,category:e.category,time:y(e.createdAt),title:e.title,youtube:e.videoUrl,youtubeTumbnail:i,img:e.imageUrl,body:e.content,likeCount:e.likeCount||0,comments:e.comments||0,viewcount:e.viewCount||0}}),console.log("게시물 데이터:",f.value)}catch(t){console.error("게시물 로드 중 오류 발생:",t),d.value="게시물을 불러오는데 실패했습니다. 서버 상태를 확인해주세요."}finally{u.value=!1}};return M(()=>{const r=x.query.category||"철학";b(r)}),C(()=>x.query.category,(r,t)=>{r&&r!==t?b(r):!r&&t&&b("철학")},{immediate:!0}),(r,t)=>(a(),n("main",V,[o("section",null,[(a(!0),n(P,null,T(f.value,e=>(a(),n("div",{key:e.id,class:"bg-white rounded-[0.66rem] shadow-[0_0.094rem_0.75rem_rgba(60,100,170,0.08)] border-[0.07rem] border-[#e3e6ea] max-w-[30rem] w-[30vw] px-[3vw] pt-[1.5rem] pb-[0.94rem] mx-0 my-0 mb-[1.7rem] flex flex-col cursor-pointer md:max-w-[74.25vw] md:px-[3vw] md:pt-[0.83rem] md:pb-[0.56rem]",onClick:s=>g(e)},[o("div",B,[o("span",F,c(e.category),1),t[0]||(t[0]=o("span",{class:"text-[#b6bec8] text-[1em]"},"·",-1)),o("span",N,c(e.time),1)]),o("h1",A,c(e.title),1),e.youtubeTumbnail?(a(),n("div",E,[o("img",{src:e.youtubeTumbnail,alt:"유튜브 썸네일"},null,8,H)])):e.img?(a(),n("div",L,[o("img",{src:e.img,alt:e.title,class:"w-full h-full object-cover"},null,8,R)])):m("",!0),o("div",Y,c(e.body),1),o("div",z,[o("button",G," 👍 "+c(e.likeCount),1),o("button",J," 💬 "+c(e.comments),1),t[1]||(t[1]=o("button",{class:"bg-[#f4f8fd] text-[#4f8cff] border-[0.07rem] border-[#e7ecf3] rounded-[0.28rem] py-[0.33em] px-[0.94em] text-[0.75rem] font-pretendard cursor-pointer transition-all duration-150 hover:bg-[#4f8cff] hover:text-white hover:border-[#4f8cff]"}," 🔗 공유 ",-1))])],8,q))),128))]),u.value?(a(),n("div",K,"게시물을 불러오는 중...")):m("",!0),d.value?(a(),n("div",O,c(d.value),1)):m("",!0),!u.value&&!d.value&&f.value.length===0?(a(),n("div",Q," 선택된 카테고리에 게시물이 없습니다. ")):m("",!0)]))}},Z=D(S,[["__scopeId","data-v-1dd411d8"]]);export{Z as P};
